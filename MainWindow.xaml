<Window x:Class="MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ClimateSim"
        mc:Ignorable="d"
        Title="ClimateSim" Height="900" Width="1200"
        WindowStartupLocation="CenterScreen">
    <Grid Margin="10">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="3*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        
        <!-- Links: Karte mit Layern -->
        <Border Grid.Column="0" BorderBrush="Gray" BorderThickness="1" CornerRadius="4" Padding="5">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <!-- Karte im ScrollViewer -->
                <ScrollViewer Grid.Row="0" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
                
                    <!-- Grid als Container für mehrere Layer -->
                    <Grid Background="Black">
                        <!-- Basiskarte: Oberflächentyp -->
                        <Image x:Name="ImgSurface" 
                               Stretch="Uniform"
                               RenderOptions.BitmapScalingMode="Fant"
                               RenderOptions.EdgeMode="Aliased"/>

                        <!-- Overlay: Temperatur -->
                        <Image x:Name="ImgTemperature"
                               Stretch="Uniform"
                               RenderOptions.BitmapScalingMode="Fant"
                               RenderOptions.EdgeMode="Aliased"
                               Opacity="{Binding ElementName=SldTemperatureOpacity, Path=Value}"/>
                    </Grid>
                </ScrollViewer>
                
                <!-- Statuszeile -->
                <StatusBar Grid.Row="1">
                    <StatusBarItem>
                        <TextBlock x:Name="TxtStatusLat" Text="Lat: -"/>
                    </StatusBarItem>
                    <StatusBarItem>
                        <TextBlock x:Name="TxtStatusLon" Text="Lon: -"/>
                    </StatusBarItem>
                    <StatusBarItem>
                        <TextBlock x:Name="TxtStatusTemp" Text="Temp: -"/>
                    </StatusBarItem>
                    <StatusBarItem>
                        <TextBlock x:Name="TxtStatusSurface" Text="Surface: -"/>
                    </StatusBarItem>
                </StatusBar>
            </Grid>
        </Border>
        
        <!-- Rechts: Steuerungselemente -->
        <StackPanel Grid.Column="1" Margin="10" VerticalAlignment="Stretch">
            <TextBlock Text="Klimamodell - Schritt 1" FontSize="20" FontWeight="Bold" Margin="0,0,0,10" />
            <TextBlock Text="Gitternetz-Auflösung:" FontWeight="SemiBold" />
            <StackPanel Orientation="Horizontal" Margin="0,5,0,10">
                <TextBlock Text="Breite (Lon):" VerticalAlignment="Center"/>
                <TextBox x:Name="TxtWidth" Width="60" Margin="5,0,10,0" Text="360"/>
                <TextBlock Text="Höhe (Lat):" VerticalAlignment="Center"/>
                <TextBox x:Name="TxtHeight" Width="60" Margin="5,0,0,0" Text="180"/>
            </StackPanel>

            <StackPanel Orientation="Vertical" Margin="0,5,0,5" HorizontalAlignment="Left">
                <TextBlock Text="Layer:" Margin="0,0,0,2"/>
                <ListBox Width="270">
                    <ListBoxItem>
                        <CheckBox x:Name="ChkBaseLayer" Content="Erdoberfläche" IsChecked="True" IsEnabled="False"/>
                    </ListBoxItem>
                    <ListBoxItem>
                        <Grid Width="250">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                               <CheckBox x:Name="ChkShowTemperature" Grid.Column="0" Content="Temperatur" IsChecked="True" VerticalAlignment="Center"/>
                               <Slider x:Name="SldTemperatureOpacity" Grid.Column="1" Minimum="0.0" Maximum="1.0" Value="0.9" Width="80"
                                       TickFrequency="0.1" IsSnapToTickEnabled="False" VerticalAlignment="Center" HorizontalAlignment="Right"/>
                        </Grid>
                         
                    </ListBoxItem>
                </ListBox>
            </StackPanel>
            
            <TextBlock Text="Temperaturbereich (für Farbkodierung):" FontWeight="SemiBold"/>
            <StackPanel Orientation="Horizontal" Margin="0,5,0,10">
                <TextBlock Text="Min [°C]:" VerticalAlignment="Center"/>
                <TextBox x:Name="TxtTempMin" Width="60" Margin="5,0,10,0" Text="-50"/>
                <TextBlock Text="Max [°C]:" VerticalAlignment="Center"/>
                <TextBox x:Name="TxtTempMax" Width="60" Margin="5,0,0,0" Text="40"/>
            </StackPanel>
            
            <StackPanel Orientation="Horizontal" Margin="0,5,0,10">
                <TextBlock Text="Startjahr der Simulation:" FontWeight="SemiBold"/>
                <TextBox x:Name="TxtStartYear" Width="80" Text="1850" Margin="5,0,0,0"/> 
            </StackPanel>
            
            <StackPanel Orientation="Horizontal" Margin="0,5,0,10">
                <TextBlock Text="Endjahr der Simulation:" FontWeight="SemiBold"/>
                <TextBox x:Name="TxtEndYear" Width="80" Text="2100" Margin="5,0,0,0"/>
            </StackPanel>
            
            <StackPanel Orientation="Horizontal" Margin="0,5,0,10">
                <TextBlock Text="Aktuelles Jahr:" FontWeight="SemiBold" Margin="0,0,0,0"/>
                <TextBlock x:Name="TxtCurrentYear" Text="1850,0" Margin="2,0,0,0" FontFamily="Consolas" VerticalAlignment="Bottom"/>
            </StackPanel>
            
            <TextBlock Text="Simulationsteuerung:" FontWeight="SemiBold" Margin="0,10,0,0" />
            <Button x:Name="BtnGenerate" Content="Temperaturfeld initialisieren" Height="35" Margin="0,5,0,0"/>
            <Button x:Name="BtnStep" Content="1 Simulationsschritt (siehe dt pro Tick)" Height="35" Margin="0,10,0,0" />
            <TextBlock Text="Automatische Simulation:" FontWeight="SemiBold" Margin="0,20,0,5" />

            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                <TextBlock Text="dt pro Tick [Jahre]:" VerticalAlignment="Center" />
                <TextBox x:Name="TxtDtYears" Width="40" Margin="5,0,10,0" Text="1" />
                <TextBlock Text="Intervall [ms]:" VerticalAlignment="Center" />
                <TextBox x:Name="TxtIntervalMs" Width="40" Margin="5,0,0,0" Text="n.Implemented" IsEnabled="False"/>
            </StackPanel>

            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                <Button x:Name="BtnStart" Content="Start" Width="80" Height="30" Margin="0,0,10,0" />
                <Button x:Name="BtnStop" Content="Stop" Width="80" Height="30" />
            </StackPanel>

            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                <TextBlock Text="Simulationszeit:" FontWeight="SemiBold" Margin="0,0,0,0" />
                <TextBlock x:Name="TxtSimTime" Text="0,0 Jahre" Margin="2,0,0,0" FontFamily="Consolas" VerticalAlignment="Bottom"/>
            </StackPanel>
            
            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                <TextBlock Text="Globale Mitteltemperatur:" FontWeight="SemiBold" Margin="0,0,0,0" />
                <TextBlock x:Name="TxtGlobalMean" Text="0,0 °C" Margin="2,0,0,0" FontFamily="Consolas" VerticalAlignment="Bottom"/>
            </StackPanel>
            
            <TextBlock Text="CO₂-Forcing:" FontWeight="SemiBold" Margin="0,20,0,5"/>
            <TextBlock Text="CO₂-Konzentration [ppm]:"/>

            <StackPanel Orientation="Horizontal" Margin="0,5,0,10">
                <Slider x:Name="SldCO2" Minimum="280" Maximum="1000" Value="420" Width="150" TickFrequency="20" IsSnapToTickEnabled="True" IsEnabled="False"/>
                <TextBlock x:Name="TxtCO2Value" Text="420 ppm" VerticalAlignment="Center" Margin="10,0,0,0" FontFamily="Consolas"/>
            </StackPanel>

            <StackPanel Orientation="Horizontal" Margin="0,5,0,10">
                <TextBlock Text="Klimasensitivität λ [K/(W/m²)]:" VerticalAlignment="Center"/>
                <TextBox x:Name="TxtLambda" Width="60" Margin="5,0,0,0" Text="0.5"/>
            </StackPanel>

            <Button x:Name="BtnShowHistory" Content="Verlauf anzeigen..." Height="30" Margin="0,20,0,0"/>
            
        </StackPanel> 
    </Grid>
</Window>
